services:
  # Web Service
  - type: web
    name: pwa-contenedores
    env: node
    region: oregon
    plan: free
    buildCommand: npm install --prefix backend
    startCommand: node backend/server.js
    envVars:
      - key: NODE_ENV
        value: production
      - key: DB_HOST
        sync: false
      - key: DB_PORT
        value: 5432
      - key: DB_USER
        sync: false
      - key: DB_PASSWORD
        sync: false
      - key: DB_NAME
        sync: false
      - key: DB_SSL
        value: true
      - key: PUBLIC_VAPID_KEY
        sync: false
      - key: PRIVATE_VAPID_KEY
        sync: false
      - key: VAPID_EMAIL
        sync: false

databases:
  # PostgreSQL Database
  - name: pwa-contenedores-db
    databaseName: pwa_5x3k
    user: pwa_5x3k_user
    region: oregon
    plan: free
